<!-- Page Content -->
<div class="container">

    <div class="row">

        <div class="col-lg-12">
            <h1 class="page-header">Thumbnail Gallery ({{selectedTag}})</h1>
        </div>

        <div class="panel panel-default" style="position: fixed; top: 200px">
            <div class="panel-heading">
                <h3 class="panel-title">Toolbox</h3>
            </div>
            <div class="panel-body">
                Main Picture, ID: {{mainPicture.id}}
                <div ng-drop="true" ng-drop-success="onDropComplete($data,$event)">
                    DROP HERE
                </div>
                <span ng-click="resetMainPicture()">(Reset)</span>
                <img ng-src="{{mainPicture.href}}" ng-if="mainPicture.id != 0"/>
                <hr/>
                <input type="checkbox" ng-model="showMarker" id="showMarker"><label for="showMarker">Show Marker</label>
                <hr/>
                <input type="checkbox" ng-model="showTags" id="showTags"><label for="showTags">Show Tags</label>
                <hr/>
                <input type="checkbox" ng-model="showAlternativeHandlingStuff" id="showAlternativeHandlingStuff">
                <label for="showAlternativeHandlingStuff">Show alternative handling stuff</label>
                <hr/>
                <input type="checkbox" ng-model="showEditPictureStuff" id="showEditPictureStuff">
                <label for="showEditPictureStuff">Show edit picture and thumbnail stuff</label>
                <hr/>
            </div>

        </div>

        <div ng-if="showAlert" class="alert {{alertTypeClass}} ppm-alert-fixed">
            {{alertMessage}}
            <button ng-click="disableAlert()">Close</button>
        </div>

        <div style="width: 20%; float: left">
            go on scrolling ...
        </div>
        <div style="width: 79%; float: left">


            <div ng-repeat="thumbnail in thumbnails" class="col-lg-3 col-md-4 col-xs-6 thumb">

                <a class="img-thumbnail" href="#" ng-click="showThumbnailModal(thumbnail.id)">
                    <img ng-src="{{thumbnail.href}}"/>
                </a>

                <div ng-if="showAlternativeHandlingStuff">
                    <span ng-drag="true" ng-drag-data="{{thumbnail.id}}"
                          ng-drag-succuess="onDragComplete($data,$event)">Drag me!</span>
                </div>

                <div ng-if="showMarker">
                    <span ng-if="!hasTag('ppm.print.mark', thumbnail.tags)" class="glyphicon glyphicon-print"
                          ng-click="addTag(thumbnail.id, 'ppm.print.mark')">&nbsp;</span>
                    <span ng-if="hasTag('ppm.print.mark', thumbnail.tags)"
                          class="glyphicon glyphicon-print ppm-glyphicon-state-active"
                          ng-click="removeTag(thumbnail.id, 'ppm.print.mark')">&nbsp;</span>
                </div>

                <div ng-if="showEditPictureStuff">
                    <button ng-click="deleteThumbnails(thumbnail.id)">Delete thumbnails</button>
                    <button ng-click="createThumbnails(thumbnail.id)">Create thumbnails</button>
                    <button ng-click="rotatateThumbnailsClockwise(thumbnail.id)">Clockwise</button>
                    <button ng-click="rotatateThumbnailsCounterClockwise(thumbnail.id)">Counter Clockwise</button>
                </div>

                <div ng-if="showTags">
                    <span class="label label-primary" ng-click="showDetail(thumbnail.id)">{{thumbnail.id}}</span>
                    <span class="label label-info" ng-repeat="tag in thumbnail.tags">
                        <span ng-click="showThumbnailsForTag(tag)">{{tag}}</span>
                    </span>
                    <input name="newTag" ng-model="thumbnail.newTag" type="text">
                    <button ng-click="addTag(thumbnail.id)">Add</button>
                </div>
            </div>


        </div>

        <div ng-if="additionalPicturesAvailable == true">
            <div infinite-scroll="myPagingFunction()" infinite-scroll-distance="0">
                Loading more stuff ....
            </div>
        </div>

    </div>


    <hr>


    <!-- partials -->

    <script type="text/ng-template" id="thumbnailPreview.html">
        <div>
            <span class="glyphicon glyphicon-plus" ng-click="showLarge()">&nbsp;</span>
            <span class="glyphicon glyphicon-minus" ng-click="showSmall()">&nbsp;</span>
            <span class="glyphicon glyphicon-cloud-download" ng-click="showOriginal()">&nbsp;</span>
            <button type="button" class="close" ng-click="close()">X</button>
        </div>
        <div class="modal-image-wrapper">
            <img src="/thumbnail/{{ pictureId }}_{{size}}.jpg">
        </div>
    </script>


</div>
<!-- /.container -->